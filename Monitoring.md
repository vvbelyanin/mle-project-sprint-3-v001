### Мониторинг
Для выполнения бизнес-задачи предупреждения потенциальных рисков настроена система мониторинга работы микросервиса в Grafana

![](/services/grafana/provisioning/dashboards/screenshot.jpg)

Поскольку микросервис представляет собой предсказания модели, то для мониторинга работы микросервиса были выбраны основные (Latency, Traffic, Errors, Saturation) и добавлены вспомогательные метрики (на рисунке сверху вниз и слева направо):
##### Прикладной слой
- Метрика "время задержки" служит для мониторинга приемлемого времени отклика для пользователей:
  - 95% квантиль - для представления о времени задержки для большинства запросов
  - Среднее значение - для отображения конкретных значений и возможных сбоев (выбросов)
- Метрики трафика применяются для отслеживания проблем большой нагрузки на сервис, DoS-атак, сбоев в оборудовании:
  - Общий трафик - для отображения нагрузки сети/активности пользователей в разрезе количества данных
  - Средний размер запроса - для представления размера получаемых данных
  - Количество запросов в секунду, включая запросы с ошибками - интенсивность запросов всех видов
- Метрики ошибок напрямую связаны с надежностью сервиса для пользователей, они непосредственно указывают на проблемы и сбои:
  - "Статистика ошибок" с указанием частоты корректно отработанных запросов и ошибок - процентное соотношение ошибок и спарклайн

##### Инфраструктурный слой 
- Метрики, связанные с насыщением, служат для мониторинга доступных аппаратных ресурсов, недостаток которых может напрямую влиять на все метрики прикладного слоя:
  - Память, CPU, Использование диска
- Общий ресурс работы микросервиса
  - Время начала работы, Продолжительность работы, Общее количество предсказаний
